---
import type { CollectionEntry } from "astro:content"

import { renderInline } from "@utils/markdown/render"

import BibList from "./BibList.astro"

export interface Props {
  article: CollectionEntry<"article">
}
const { article } = Astro.props
const { title, description, subtitle, issue, tags } = article.data

const topics = (tags || []).filter(tag => tag.startsWith("topic:"))

const { Content } = await article.render()
---

<article id="article" role="article">
  <h1
    class="issue-title body-xxl italic bold uppercase"
    set:html={renderInline(title)}
  />
  <p
    class="issue-subtitle body-xl italic uppercase"
    set:html={renderInline(subtitle)}
  />
  <p class="issue-abstract body-md bold" set:html={renderInline(description)} />

  <Content />

  <BibList tag={"issue:" + issue} />
</article>
