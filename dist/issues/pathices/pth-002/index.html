<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width" name=viewport><link href=/assets/icons/favicon.svg rel=icon type=image/svg+xml><link href=https://www.jerrobs.com/issues/pathices/pth-002/ rel=canonical><meta content="Astro v2.6.1" name=generator><title>Making it fast</title><meta content="Making it fast" name=title><meta content="For real-time rendering How graphic cards can accelerate particle simulations
" name=description><meta content="Dirk Rathje" name=author><script src=/toggle-theme.js defer=defer></script><link href=/manifest.webmanifest rel=manifest><link href=/assets/about-d0c889e7.css rel=stylesheet /><script src=/_astro/hoisted.88db4f2a.js type=module></script></head><body><div class=layout><div class=layout__header><header class=astro-3EF6KSR2><a class="astro-3EF6KSR2 skip-to-content" href=#main-content>Skip to content</a><div class="astro-3EF6KSR2 nav-container"><a class="astro-3EF6KSR2 logo" href=/ ><object alt="[logo] J. Err. Obs" class="astro-3EF6KSR2 jerrobs" data=/assets/jerrobs.svg height=28 type=image/svg+xml width=138></object></a><nav class=astro-3EF6KSR2 id=nav-menu><ul class="astro-3EF6KSR2 body-md" id=menu-items><li class=astro-3EF6KSR2><a class=astro-3EF6KSR2 href=/issues>Issues</a></li><li class=astro-3EF6KSR2><a class=astro-3EF6KSR2 href=/references>References</a></li><li class=astro-3EF6KSR2><a class=astro-3EF6KSR2 href=/about>About</a></li><li class=astro-3EF6KSR2><button aria-label=auto aria-live=polite class="astro-3EF6KSR2 focus-outline" id=theme-btn title="Toggles light & dark"><svg class=astro-3EF6KSR2 id=moon-svg xmlns=http://www.w3.org/2000/svg><path class=astro-3EF6KSR2 d="M21.7519 15.0019C20.597 15.4839 19.3296 15.75 18 15.75C12.6152 15.75 8.25 11.3848 8.25 5.99999C8.25 4.67039 8.51614 3.40296 8.99806 2.24805C5.47566 3.71785 3 7.19481 3 11.25C3 16.6348 7.36522 21 12.75 21C16.8052 21 20.2821 18.5243 21.7519 15.0019Z" stroke=#0F172A stroke-linecap=round stroke-linejoin=round stroke-width=1.5 xmlns=http://www.w3.org/2000/svg></path></svg> <svg class=astro-3EF6KSR2 id=sun-svg xmlns=http://www.w3.org/2000/svg><path class=astro-3EF6KSR2 d="M12 3V5.25M18.364 5.63604L16.773 7.22703M21 12H18.75M18.364 18.364L16.773 16.773M12 18.75V21M7.22703 16.773L5.63604 18.364M5.25 12H3M7.22703 7.22703L5.63604 5.63604M15.75 12C15.75 14.0711 14.0711 15.75 12 15.75C9.92893 15.75 8.25 14.0711 8.25 12C8.25 9.92893 9.92893 8.25 12 8.25C14.0711 8.25 15.75 9.92893 15.75 12Z" stroke=#0F172A stroke-linecap=round stroke-linejoin=round stroke-width=1.5 xmlns=http://www.w3.org/2000/svg></path></svg></button></li></ul></nav></div></header><nav class="astro-ILHXCYM7 breadcrumb" aria-label=breadcrumb><p class=astro-ILHXCYM7></p><ul class=astro-ILHXCYM7><li class="astro-ILHXCYM7 body-sm"><a class=astro-ILHXCYM7 href=/ >Home</a></li><li class="astro-ILHXCYM7 body-sm"><a class=astro-ILHXCYM7 href=/issues>issues</a></li><li class="astro-ILHXCYM7 body-sm"><a class=astro-ILHXCYM7 href=/issues/pathices>pathices</a></li><li class="astro-ILHXCYM7 body-sm"><a class=astro-ILHXCYM7 href=/issues/pathices/pth-002>pth-002</a></li></ul></nav></div><div class=layout__main><article class=article role=article><header class=article-header><h1 class="body-xl italic uppercase article-title bold">Making it fast</h1><p class="body-xl italic uppercase article-subtitle">with graphics&nbsp;processor parallelism</p><p class="body-md article-abstract bold mb-1">For real-time rendering How graphic cards can accelerate particle simulations</p></header><div class=article-body><section class=md><h2 class=md id=homo-ludens>Homo ludens</h2><p class=md>Anyone in the 1970s who had predicted that the human craze for destroying asteroids or shooting down monsters would lead to technological advances triggering a fourth industrial revolution half a century later would have risked being criticised for stretching the concept of “homo ludens” (<bib-ref cite-key=huizinga__1949__homo>) beyond its limits and being advised to publish science fiction stories instead of scientific articles. But today’s progress in machine learning would not have been possible without a branch of specialised hardware that has been developed for 50 years to satisfy the hunger for ever more elaborate ways to bring games to the screen.</bib-ref></p><p class=md>This development brought us the acronym “GPU”, which was used as early as 1976 (<bib-ref cite-key=computerworld__1976__vgi>) in the meaning of “graphics processing unit”. Unlike computers’ <em>central processing units</em> (CPU), graphics processing units have a very distinct task: to create visual experiences which allow users to be fully immersed in artificial worlds. For achieving this goal, the ultimate technical requirements are determined by the spatial, temporal and colour resolution of human vision: For games or other visuals to look deceptively real, GPUs must be able to select a colour out of millions of colours for millions of pixels at least 60 times per second^[].</bib-ref></p><p class=md>From the perspective of the 1970s, this is a daunting challenge. It arguably stimulated the moving away from the architecture of CPUs that processed data sequentially (see reprint of<bib-ref cite-key=godfrey__1993__first>). To trick human vision, you have to process pixels in parall.</bib-ref></p></section><section class=md><h2 class=md id=generalizing-the-specialist>Generalizing the specialist</h2><p class=md>Shaders have been generally available since 2001. They were almost immediately adopted for use outside of graphics (<bib-ref cite-key=fernando__2004__gpu>) We will see that shaders are excellent for numerical computations on a mesh or grid.</bib-ref></p><p class=md>Many other computational models have also been mapped to graphics hardware. Examples include differential equations, financial modeling, machine learning, image processing, and even databases.</p></section><section class=md><h2 class=md id=opengl-and-webgl>OpenGL and WebGL</h2><p class=md>OpenGL is an application programming interface (API) for developing portable, interactive 2D and 3D graphics applications.</p><p class=md>Its first version has been published in June 1992 by the OpenGL Architecture Review Board (<bib-ref cite-key=opengl__1.0>) which transfered the control in 2006 to the Khronos Group, “an open, non-profit, member-driven consortium of over 150 industry-leading companies creating advanced, royalty-free interoperability standards for 3D graphics, augmented and virtual reality, parallel programming, vision acceleration and machine learning.” (<bib-ref cite-key=khronosgroup__2006__opengl>).</bib-ref></bib-ref></p><p class=md>The current version of OpenGL is 4.6 (<bib-ref cite-key=opengl__4.6>). In 2006, <em>OpenGL ES</em> was published for embedded and mobile systems - including consoles, phones, appliances and vehicles. It consists of a well-defined subset of desktop OpenGL suitable for low-power devices, and provides a flexible and powerful interface between software and graphics acceleration hardware. In 2011, WebGL was published.-</bib-ref></p><p class=md>WebGL is a cross-platform, royalty-free web standard for a low-level 3D graphics API based on OpenGL ES. Developers familiar with OpenGL ES will recognize WebGL as a shader-based API using the OpenGL Shading Language, with con- structs that are semantically similar to those of the underlying OpenGL ES API.</p><p class=md>It stays very close to the OpenGL ES specification, with some concessions made for what developers expect out of memory-managed languages such as JavaScript.</p><p class=md>Programs that run on the GPU are called <em>shaders</em></p></section><section class=md><h2 class=md id=gpgpu-general-purpose-computing-on-graphics-processing-units>GPGPU General-purpose computing on graphics processing units</h2><p class=md>GPGPU is “General Purpose” GPU and means using the GPU for something other than drawing pixels.</p><p class=md>The basic realization to understanding GPGPU in WebGL is that a texture is not an image, it’s a 2D array of values. In the article on textures we covered reading from a texture. In the article on rendering to a texture we covered writing to a texture. So, if realizing a texture is a 2D array of values we can say that we have really described a way to read from and write to 2D arrays. That is the essence of GPGPU in WebGL.</p><p class=md>A General-Purpose Graphics Processing Unit (GPGPU) is a graphics processing unit (GPU) that is programmed for purposes beyond graphics processing, such as performing computations typically conducted by a Central Processing Unit (CPU).</p><p class=md>ring these values as the red, green and blue values of a pixel. A velocity vector of (0,1,0) would result in a bright red pixel color. Each pixel is assigned one particle. These textures are rendered to a full screen quad in an off-screen scene, from where they can be read by a fragment shader, which in turn updates the values. Since the shader cannot write to the same texture it reads from, the values are then updated and the texture is written to another texture. This process is often referred to as ping-pong-rendering. This way the GPU’s computing powers can be used to our advantage.</p></section><section class=md><h2 class=md id=performance-gain>Performance Gain</h2><iframe frameborder=0 height=1439 src="https://observablehq.com/embed/7a5ef9269cddd522?cells=chart" width=100%></iframe></section></div></article></div><div class=layout__footer><footer class="astro-SZ7XMLTE footer-wrapper"><p class="astro-SZ7XMLTE copyright-wrapper"><span class=astro-SZ7XMLTE>&#169; 2023</span> <span class="astro-SZ7XMLTE separator">&nbsp;|&nbsp;</span> <span class=astro-SZ7XMLTE>All rights reserved.</span></p></footer></div></div></body></html>